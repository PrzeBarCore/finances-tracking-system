<div class="mt-5 container">
  <mat-tree [dataSource]="dataSource" [treeControl]="treeControl" class="tree">
    <!-- This is the tree node template for leaf nodes -->
    <!-- There is inline padding applied to this node using styles.
      This padding value depends on the mat-icon-button width. -->
    <mat-tree-node *matTreeNodeDef="let node" matTreeNodeToggle>
      <div id="nodeId{{ node.id }}" class="mat-tree-node">
        <h5>{{ node.name }}</h5>
        <button
          id="btn-remove-{{ node.id }}"
          class="btn btn-danger rounded-circle"
          (click)="deleteCategory(node.id)"
        >
          <fa-icon [icon]="['fas', 'eraser']"></fa-icon>
        </button>
        <button
          id="btn-edit-{{ node.id }}"
          class="btn btn-warning rounded-circle"
        >
          <fa-icon [icon]="['far', 'pen-to-square']"></fa-icon>
        </button>
        <button
          id="btn-accept-{{ node.id }}"
          class="btn btn-success rounded-circle"
          *ngIf="node.isEdited"
        >
          <fa-icon [icon]="['fas', 'check']"></fa-icon>
        </button>
        <button id="btn-add-child-{{ node.id }}" class="btn btn-primary">
          +
        </button>
      </div>
    </mat-tree-node>
    <!-- This is the tree node template for expandable nodes -->
    <mat-nested-tree-node *matTreeNodeDef="let node; when: hasChild">
      <div id="nodeId{{ node.id }}" class="mat-tree-node">
        <button
          class="btn btn-expandable rounded-circle"
          [class.btn-state]="treeControl.isExpanded(node)"
          matTreeNodeToggle
        >
          <fa-icon [icon]="['fas', 'chevron-right']"></fa-icon>
        </button>
        <h5>{{ node.name }}</h5>

        <button
          id="btn-edit-{{ node.id }}"
          class="btn btn-warning rounded-circle"
          *ngIf="!node.isEdited"
        >
          <fa-icon [icon]="['far', 'pen-to-square']"></fa-icon>
        </button>
        <button
          id="btn-accept-{{ node.id }}"
          class="btn btn-success rounded-circle"
          *ngIf="node.isEdited"
        >
          <fa-icon [icon]="['fas', 'check']"></fa-icon>
        </button>
        <button
          id="btn-add-child-{{ node.id }}"
          class="btn btn-primary"
          [class.edited]="node.isEdited"
        >
          +
        </button>
      </div>

      <!-- There is inline padding applied to this div using styles.
            This padding value depends on the mat-icon-button width.  -->
      <div [class.tree-invisible]="!treeControl.isExpanded(node)" role="group">
        <ng-container matTreeNodeOutlet></ng-container>
      </div>
    </mat-nested-tree-node>
  </mat-tree>
  <button id="btn-add" class="btn btn-primary" (click)="navigateToComponentForm()">
    Add New Category
  </button>
</div>
